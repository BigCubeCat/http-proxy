services:
  site1:
    build:
      context: ./site1
    ports:
      - "8081:8080"

  site2:
    build:
      context: ./site2
    ports:
      - "8082:8080"

  site3:
    build:
      context: ./site3
    ports:
      - "8083:8080"

  proxy:
    build:
      context: ./proxy
    ports:
      - "9000:9000"

  test_runner:
    build:
      context: ./test_runner
    depends_on:
      - site1
      - site2
      - site3
    environment:
      - TEST_TIMEOUT=30
